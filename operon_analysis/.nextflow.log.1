Dec-03 16:25:12.041 [main] DEBUG nextflow.cli.Launcher - $> nextflow run /home/djl294/octapus/ --genomes_local local_genomes.csv --operon query_seqs.faa --output_folder /local/workdir/users/djl294/MolecularMimicry/Structural_Mimicry/extracell/operon_analysis --output_prefix operons
Dec-03 16:25:12.096 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.1
Dec-03 16:25:12.117 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/djl294/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.3,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.1
Dec-03 16:25:12.129 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Dec-03 16:25:12.130 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Dec-03 16:25:12.133 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Dec-03 16:25:12.143 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Dec-03 16:25:12.870 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /home/djl294/octapus/nextflow.config
Dec-03 16:25:12.871 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/djl294/octapus/nextflow.config
Dec-03 16:25:12.881 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Dec-03 16:25:12.992 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declararion
Dec-03 16:25:13.012 [main] INFO  nextflow.cli.CmdRun - Launching `/home/djl294/octapus/main.nf` [tiny_visvesvaraya] DSL2 - revision: 9969cb7373
Dec-03 16:25:13.013 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[nf-amazon@2.1.4]
Dec-03 16:25:13.013 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-amazon@2.1.4]
Dec-03 16:25:13.013 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-amazon version: 2.1.4
Dec-03 16:25:13.017 [main] INFO  nextflow.plugin.PluginUpdater - Downloading plugin nf-amazon@2.1.4
Dec-03 16:25:14.764 [main] INFO  org.pf4j.util.FileUtils - Expanded plugin zip 'nf-amazon-2.1.4.zip' in 'nf-amazon-2.1.4'
Dec-03 16:25:14.771 [main] DEBUG nextflow.plugin.PluginUpdater - Failed atomic move for plugin /tmp/pf4j-update-downloader14775175298980639404/nf-amazon-2.1.4 -> /home/djl294/.nextflow/plugins/nf-amazon-2.1.4 - Reason: /tmp/pf4j-update-downloader14775175298980639404/nf-amazon-2.1.4 -> /home/djl294/.nextflow/plugins/nf-amazon-2.1.4: Invalid cross-device link - Fallback on safe move
Dec-03 16:25:15.563 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-amazon@2.1.4' resolved
Dec-03 16:25:15.563 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-amazon@2.1.4'
Dec-03 16:25:15.621 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-amazon@2.1.4
Dec-03 16:25:15.651 [main] DEBUG nextflow.file.FileHelper - > Added 'S3FileSystemProvider' to list of installed providers [s3]
Dec-03 16:25:15.676 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/djl294/.nextflow/secrets/store.json
Dec-03 16:25:15.679 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@1fecfaea] - activable => nextflow.secret.LocalSecretsProvider@1fecfaea
Dec-03 16:25:15.736 [main] DEBUG nextflow.Session - Session UUID: ada106da-9c7c-4c6d-82c9-0da07273c952
Dec-03 16:25:15.736 [main] DEBUG nextflow.Session - Run name: tiny_visvesvaraya
Dec-03 16:25:15.737 [main] DEBUG nextflow.Session - Executor pool size: 56
Dec-03 16:25:15.745 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Dec-03 16:25:15.750 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=168; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-03 16:25:15.764 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.1 build 5891
  Created: 12-01-2024 22:01 UTC (17:01 EDT)
  System: Linux 5.14.0-427.35.1.el9_4.x86_64
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 13.0.2+8
  Encoding: UTF-8 (UTF-8)
  Process: 1643557@cbsubrito3.biohpc.cornell.edu [128.84.180.26]
  CPUs: 56 - Mem: 502.1 GB (26.1 GB) - Swap: 8 GB (6.6 GB)
Dec-03 16:25:15.791 [main] DEBUG nextflow.Session - Work-dir: /local/workdir/users/djl294/MolecularMimicry/Structural_Mimicry/extracell/operon_analysis/work [xfs]
Dec-03 16:25:15.831 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[AwsBatchExecutor]
Dec-03 16:25:15.842 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Dec-03 16:25:15.868 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Dec-03 16:25:15.879 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 57; maxThreads: 1000
Dec-03 16:25:15.967 [main] DEBUG nextflow.Session - Session start
Dec-03 16:25:16.961 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Dec-03 16:25:17.559 [main] INFO  nextflow.Nextflow - 
-----------------------------------------------------------------------
Operon ConTextulization Across Prokaryotes to Uncover Synteny (OCTAPUS)
Fred Hutch Cancer Center
https://github.com/FredHutch/octapus
-----------------------------------------------------------------------

Parameters:
  genomes:              /home/djl294/octapus/templates/empty.manifest.csv
  genomes_local:        local_genomes.csv
  operon:               query_seqs.faa
  operon_list:          false
  output_folder:        /local/workdir/users/djl294/MolecularMimicry/Structural_Mimicry/extracell/operon_analysis
  output_prefix:        operons
  min_identity:         90
  min_coverage:         50
  max_operon_gap:       10000
  batchsize:            100
  max_evalue:           0.001
  mashtree:             false
  annotations:          false
  annotation_window:    10000
  cluster_identity:     80
  cluster_coverage:     50

Containers:
  container__biopython: quay.io/fhcrc-microbiome/biopython-pandas:latest
  container__blast:     quay.io/fhcrc-microbiome/blast:latest
  container__clinker:   quay.io/fhcrc-microbiome/clinker:v0.0.16--1
  container__mashtree:  quay.io/hdc-workflows/mashtree:1.2.0
  container__mmseqs:    quay.io/fhcrc-microbiome/mmseqs2:version-12
  container__pandas:    quay.io/fhcrc-microbiome/python-pandas:v1.0.3
  container__plotting:  quay.io/fhcrc-microbiome/boffo-plotting:latest

Dec-03 16:25:17.561 [main] INFO  nextflow.Nextflow - genomes: /home/djl294/octapus/templates/empty.manifest.csv
Dec-03 16:25:17.562 [main] INFO  nextflow.Nextflow - genomes_local: local_genomes.csv
Dec-03 16:25:17.610 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:io_limited` matches labels `io_limited` for process with name parse_genomes:sanitize_manifest
Dec-03 16:25:17.627 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Dec-03 16:25:17.627 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Dec-03 16:25:17.630 [main] DEBUG nextflow.executor.Executor - [warm up] executor > awsbatch
Dec-03 16:25:17.646 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-executor, limiter:RateLimiter[stableRate=50.0qps], poolSize:280, maxPoolSize:280, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Dec-03 16:25:17.651 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-reaper, limiter:RateLimiter[stableRate=50.0qps], poolSize:280, maxPoolSize:280, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Dec-03 16:25:17.653 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - Creating parallel monitor for executor 'awsbatch' > pollInterval=10s; dumpInterval=5m
Dec-03 16:25:17.659 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: awsbatch)
Dec-03 16:25:17.661 [main] DEBUG nextflow.Session - Session aborted -- Cause: -
Dec-03 16:25:17.681 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_fbcacbe6f3ed2d3d: /home/djl294/octapus/./modules/modules.nf
  Script_365e3436f60987c9: /home/djl294/octapus/./modules/parse_genomes.nf
  Script_7c99353c5f77e84f: /home/djl294/octapus/main.nf
Dec-03 16:25:17.684 [main] DEBUG nextflow.cli.Launcher - Operation aborted
nextflow.exception.AbortOperationException: When using `awsbatch` executor an S3 bucket must be provided as working directory using either the `-bucket-dir` or `-work-dir` command line option
	at nextflow.cloud.aws.batch.AwsBatchExecutor.validateWorkDir(AwsBatchExecutor.groovy:119)
	at nextflow.cloud.aws.batch.AwsBatchExecutor.register(AwsBatchExecutor.groovy:163)
	at nextflow.executor.Executor.init(Executor.groovy:69)
	at nextflow.executor.ExecutorFactory.createExecutor(ExecutorFactory.groovy:210)
	at nextflow.executor.ExecutorFactory.getExecutor(ExecutorFactory.groovy:201)
	at nextflow.script.ProcessDef.run(ProcessDef.groovy:206)
	at nextflow.script.BindableDef.invoke_a(BindableDef.groovy:51)
	at nextflow.script.ComponentDef.invoke_o(ComponentDef.groovy:40)
	at nextflow.script.WorkflowBinding.invokeMethod(WorkflowBinding.groovy:102)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeOnDelegationObjects(ClosureMetaClass.java:408)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:350)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:61)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)
	at Script_365e3436f60987c9$_runScript_closure3$_closure8.doCall(Script_365e3436f60987c9:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:274)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1030)
	at groovy.lang.Closure.call(Closure.java:427)
	at groovy.lang.Closure.call(Closure.java:406)
	at nextflow.script.WorkflowDef.run0(WorkflowDef.groovy:204)
	at nextflow.script.WorkflowDef.run(WorkflowDef.groovy:188)
	at nextflow.script.BindableDef.invoke_a(BindableDef.groovy:51)
	at nextflow.script.ComponentDef.invoke_o(ComponentDef.groovy:40)
	at nextflow.script.WorkflowBinding.invokeMethod(WorkflowBinding.groovy:102)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeOnDelegationObjects(ClosureMetaClass.java:408)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:350)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:61)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:176)
	at Script_7c99353c5f77e84f$_runScript_closure1$_closure8.doCall(Script_7c99353c5f77e84f:174)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:274)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1030)
	at groovy.lang.Closure.call(Closure.java:427)
	at groovy.lang.Closure.call(Closure.java:406)
	at nextflow.script.WorkflowDef.run0(WorkflowDef.groovy:204)
	at nextflow.script.WorkflowDef.run(WorkflowDef.groovy:188)
	at nextflow.script.BindableDef.invoke_a(BindableDef.groovy:51)
	at nextflow.script.ChainableDef$invoke_a.call(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
	at nextflow.script.BaseScript.run0(BaseScript.groovy:183)
	at nextflow.script.BaseScript.run(BaseScript.groovy:192)
	at nextflow.script.ScriptParser.runScript(ScriptParser.groovy:236)
	at nextflow.script.ScriptRunner.run(ScriptRunner.groovy:242)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:137)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:372)
	at nextflow.cli.Launcher.run(Launcher.groovy:500)
	at nextflow.cli.Launcher.main(Launcher.groovy:672)
